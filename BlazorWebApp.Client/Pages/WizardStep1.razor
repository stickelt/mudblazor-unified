@using BlazorWebApp.Shared
@using MudBlazor
@using BlazorWebApp.Client.Services
@inject WizardStateService StateService

<MudTextField Label="First Name"
              Value="FormData.FirstName"
              ValueChanged="@(async (string val) => await OnFirstNameChanged(val))"
              Required="true"
              Variant="Variant.Outlined"
              FullWidth="true"
              Immediate="true"
              Placeholder="Enter your first name" />

@code {
    [Parameter] public required WizardFormData FormData { get; set; }
    
    private async Task OnFirstNameChanged(string value)
    {
        FormData.FirstName = value;
        await StateService.UpdateFormDataAsync(FormData);
    }
}
