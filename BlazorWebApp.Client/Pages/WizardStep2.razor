@using BlazorWebApp.Shared
@using MudBlazor
@using BlazorWebApp.Client.Services
@inject WizardStateService StateService

<MudTextField Label="Last Name"
              Value="FormData.LastName"
              ValueChanged="@(async (string val) => await OnLastNameChanged(val))"
              Required="true"
              Variant="Variant.Outlined"
              FullWidth="true"
              Immediate="true"
              Placeholder="Enter your last name" />

@code {
    [Parameter] public required WizardFormData FormData { get; set; }
    
    private async Task OnLastNameChanged(string value)
    {
        FormData.LastName = value;
        await StateService.UpdateFormDataAsync(FormData);
    }
}
